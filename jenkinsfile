pipeline {
  agent any
  tools {
    nodejs 'node16.18.0'
  }
  stages {
    
      stage('GIT PULL') {
        steps {
          script {
            sh 'git checkout .'
          }
          script {
            sh 'git pull'
          }
        }
      }

      stage('PM2 START') {
        steps {
          script {
            sh 'npm install'
          }
          script {
            sh 'node index.js'
          }

        }
      }

      stage('Deploy') {
        steps {
          echo 'Deploying...'
        }
      }
    }

}